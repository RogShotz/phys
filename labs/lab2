from visual import *

#angle of block in DEGREES
angle_degrees = 30

#convert angle to RADIANS
theta = radians(angle_degrees)

#static and kinetic coefficients
#note: code will only produce reasonable results when mu_k < mu_s
mu_s = 0.5
mu_k = 0.3

#initialize mass and magnitude of freefall acceleration
g = 9.8
mass1 = 1.0
mass2 = 0.2

#useful for drawing arrows with mags
scale_arrow = 0.5

#draw a horizontal board
incline = box(pos = vector(0, 0, 0),
              length = 20,
              width = 2,
              height = 0.2,
              color = vector(1, 1, 1),
              opacity = 0.5)
#draw block
block1 = box(length = 2,
             width = 2,
             height = 2,
             color = vector(1, 1, 1),
             opacity = 0.5)
#position block such that it rests on middle of board
block1.pos = incline.pos + vector(0, 0.5*block1.height, 0)

#create a parameter called block_vleocity to start the block from rest
block1.velocity = vector(0, 0, 0)

#draw a cylinder that represents a massless pulley with negligible axle friction
pulley = cylinder(axis=vector(0,0,1), radius = 0.5*block1.width, color= vector(0,1,0))

#reposition pulley to over the edge of the board
pulley.pos += vector(pulley.radius + 0.5*incline.length, 0, -0.25*incline.width)

#draw string1 connecting block 1 to top edge of pulley
string1 = cylinder(radius = 0.1, color = vector(1, 1, 1), opacity=0.5)
string1.pos = pulley.pos + vector(0, pulley.radius, 0.5*mag(pulley.axis))
string1.axis = block1.pos + vector(0.5*block1.width, 0, 0) - string1.pos

#rotate the two objects about the z-axis (z-axis points out of page)
incline.rotate(angle = theta, axis = vector(0, 0, 1), origin = vector(0, 0, 0))
block1.rotate(angle = theta, axis = vector(0, 0, 1), origin = vector(0, 0, 0))
pulley.rotate(angle = theta, axis = vector(0, 0, 1), origin = vector(0, 0, 0))
string1.rotate(angle = theta, axis = vector(0, 0, 1), origin = vector(0, 0, 0)) 

#draw a hanging mass directly below the right edge of pulley
block2 = box(length = 2,
             width = 2,
             height = 2,
             color = vector(1, 1, 1),
             opacity = 0.5)
block2.pos = pulley.pos + vector(pulley.radius, - 0.5*incline.length, 0)

#draw string2 connecting block 2 to right edge of pulley
string2 = cylinder(radius = 0.1, color = vector(1, 1, 1), opacity=0.5)
string2.pos = pulley.pos + vector(pulley.radius, 0, 0.5*mag(pulley.axis))
string2.axis = block2.pos + vector(0, 0.5*block2.height, 0) - string2.pos

#draw weight arrow
weight = vector(0, -mass1*g, 0)
weight_arrow = arrow(pos = block1.pos,
                     axis = scale_arrow*weight,
                     color = vector(0, 1, 0))
#draw normal force arrow
normal_mag = mass1*g*cos(theta)
normal = normal_mag*vector(-sin(theta), cos(theta), 0)
normal_arrow = arrow(pos = block1.pos,
                     axis = scale_arrow*normal,
                     color = vector(1, 0, 1))
